(this["webpackJsonptombola-react"]=this["webpackJsonptombola-react"]||[]).push([[0],{64:function(e,t,a){e.exports=a(88)},69:function(e,t,a){},85:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=(a(69),a(60)),i=a(4),s=a(28),m=a.n(s),u=a(91),d=a(92),b=a(93),E=a(5),f=function(e){return{type:"ADD_DREW_NUMBER",drewNumber:e}},g=function(){var e=Object(i.b)(),t=Object(E.b)().t,a=Object(i.c)((function(e){return e.undoRedoManagement.past.length}))>0,n=Object(i.c)((function(e){return e.undoRedoManagement.future.length}))>0;return r.a.createElement("div",{className:"card border-0"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"btn-group d-flex "},r.a.createElement((function(){return r.a.createElement("button",{className:"btn btn-sm btn-warning mx-1 my-1","data-toggle":"back-arrow",title:t("game-page.go-back"),onClick:function(){e(s.ActionCreators.undo())},disabled:!a},r.a.createElement(u.a,{size:"20",color:"white"}))}),null),r.a.createElement((function(){return r.a.createElement("button",{className:"btn btn-sm btn-warning mx-1 my-1","data-toggle":"forth-arrow",title:t("game-page.go-forth"),onClick:function(){e(s.ActionCreators.redo())},disabled:!n},r.a.createElement(d.a,{size:"20",color:"white"}))}),null)),r.a.createElement((function(){return r.a.createElement("button",{className:"btn btn-danger mx-1 my-1","data-toggle":"settings-button",title:t("generics.settings")},r.a.createElement(b.a,{size:"20",color:"white",onClick:function(){e({type:"SWITCH_IN_GAME_SETTINGS"})}}))}),null)))))},N=a(22),v=a(48),p=a(49),h=a(21),w={rangeRightEdgeExcluded:function(e,t){return Object(h.a)(Array(t-e)).map((function(t,a){return a+e}))},range:function(e,t){return Array.from({length:t-e+1},(function(t,a){return e+a}))},chunkArray:function(e,t){for(var a=[],n=Object(h.a)(e);n.length;)a.push(n.splice(0,t));return a},randomNumber:function(e){return e[Math.floor(Math.random()*e.length)]}},y={getNumbers:function(e){return e.filter((function(e){return!isNaN(e)}))},getNotNumbers:function(e){return e.filter((function(e){return isNaN(e)}))},getCheckedPrizes:function(e){return e.filter((function(e){return e.checked}))}};function j(){var e=Object(v.a)(["\n  pointer-events: none;\n  position: relative;\n  width: calc(50% * (9/16));\n  padding-bottom: calc(50% * (9/16));\n  \n\n  border-radius: 50%;\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n\n  div {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    font-size: calc(5em *(9/16));\n    transform: translate(-50%, -50%);\n  }\n"]);return j=function(){return e},e}var O=p.a.div(j()),k=function(){var e=Object(E.b)().t,t=Object(i.b)(),a=Object(i.c)((function(e){return y.getNumbers(e.undoRedoManagement.present)})),n=Object(i.c)((function(e){return e.managePrizesSettings.automaticDraw})),c=Object(i.c)((function(e){return e.manageDrewNumbers.availableNumbers})),l=function(){var e=w.randomNumber(c.filter((function(e){return!a.includes(e)})));t(f(e))};return r.a.createElement("button",{className:"btn btn-success ".concat(n?"":"disabled"),style:{pointerEvents:n?"":"none"},onClick:function(){return l()}},e("generics.draw"))},S=function(){var e=Object(E.b)().t,t=Object(n.useState)(!1),a=Object(N.a)(t,2),c=a[0],l=(a[1],Object(i.c)((function(e){return y.getNumbers(e.undoRedoManagement.present)}))),o=l[l.length-1];return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row justify-content-center text-center"},r.a.createElement("h3",null,e("game-page.last-draw-number"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(O,{className:"my-4"},c?"INSERT HTML CODE SPINNER":r.a.createElement("div",null,null==o?"#":o)))),r.a.createElement("div",{className:"card-footer border-0 d-flex flex-wrap justify-content-center"},r.a.createElement(k,null)))},I=function(){return r.a.createElement("div",{className:"card border-0"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(S,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(g,null))))))},A=function(e){var t=e.gameNumber,a=Object(E.b)().t,n=Object(i.b)(),c=Object(i.c)((function(e){return y.getNumbers(e.undoRedoManagement.present)})),l=function(e){var t=e.array;return r.a.createElement("div",{key:t},t.map((function(e){return r.a.createElement("div",{className:"container-fluid",key:"container-".concat(e)},r.a.createElement("div",{className:"row justify-content-between",key:e},e.map((function(e){return r.a.createElement("button",{className:"btn btn-outline-warning col mx-1 my-1 ".concat(c.includes(e)?"active none":""),key:e,value:e,onClick:function(){n(f(e))},style:{pointerEvents:c.includes(e)?"none":""}},r.a.createElement("div",{style:{fontSize:"calc(1.5em * (9/16))",fontWeight:"bold"}},e))}))))})))};return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header border-0"},r.a.createElement((function(){var e=Object(i.c)((function(e){return y.getCheckedPrizes(e.managePrizesSettings.prizes)}));console.log("CHECKED_PRIZES",e);var t=Object(i.c)((function(e){return y.getNotNumbers(e.undoRedoManagement.present)}));console.log("ASSIGNED_PRIZES",t);var c=e.filter((function(e){return!t.includes(e)}));console.log("AVAILABLE_PRIZES",c);var l=c.reduce((function(e,t){return e.id<t.id?e:t}),0);console.log("NEXT_PRIZE",l);var o=0===c.length,s=c.length>1;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-between align-items-center"},r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("h5",{className:"align-center text-muted"},a("game-page.actual-prize"))),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("h2",{className:"align-center text-uppercase",style:{letterSpacing:"0.03em"}},a(o?"welcome-page.no-prize":"welcome-page.prizes.".concat(l.name))))),r.a.createElement("button",{className:"btn btn-info",onClick:function(){n({type:"ADD_ASSIGNED_PRIZE",assignedPrize:l})},disabled:!s},a("generics.award"))))}),null)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row my-3"},r.a.createElement((function(e){var t=e.array;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{className:"col-md-6 my-3 col-12",key:"box-".concat(e)},r.a.createElement("div",{className:"card border-0",key:e},r.a.createElement(l,{array:w.chunkArray(e,5)})))})))}),{array:t})))))},_=a(94),D=function(){var e=Object(E.b)().t,t=Object(i.b)(),a=Object(i.c)((function(e){return e.managePrizesSettings.automaticDraw}));return r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:function(){t({type:"CHANGE_AUTOMATIC_DRAW_STATE"})},defaultChecked:a,id:"automaticDrawSwitch"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"automaticDrawSwitch"},e("welcome-page.automatic-draw")))},R=function(){var e=Object(E.b)().t,t=Object(i.b)(),a=Object(i.c)((function(e){return e.managePrizesSettings.prizes})),n=function(e){t({type:"CHANGE_PRIZE_ACTIVATION",id:parseInt(e.target.id)})},c=a.map((function(t){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-6 col-12",key:"col-".concat(t.id)},r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:n,checked:t.checked,id:t.id}),r.a.createElement("label",{htmlFor:t.id,className:"custom-control-label"},e("welcome-page.prizes.".concat(t.name)))))}));return r.a.createElement(r.a.Fragment,null,c)},C=function(){var e=Object(E.b)().t;return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("small",{className:"form-check-label"},e("welcome-page.settings-checkbox-tip")),r.a.createElement("div",{className:"row"},r.a.createElement(R,null))),r.a.createElement("div",{className:"form-group d-flex flex-wrap"},r.a.createElement(D,null)))},x=function(){var e=Object(E.b)().t,t=Object(n.useState)(!0),a=Object(N.a)(t,2),c=a[0],l=a[1];return r.a.createElement(_.a,{show:c,backdrop:"static",size:"lg",centered:!0},r.a.createElement(_.a.Header,null,r.a.createElement(_.a.Title,null,e("generics.welcome"))),r.a.createElement(_.a.Body,null,r.a.createElement(C,null)),r.a.createElement(_.a.Footer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){l(!c)}},e("generics.start-the-game"))))},T=function(){var e=Object(E.b)().t,t=Object(i.b)(),a=Object(i.c)((function(e){return e.managePrizesSettings.showInGameSettings}));return r.a.createElement(_.a,{show:a,backdrop:"static",size:"lg",centered:!0},r.a.createElement(_.a.Header,null,r.a.createElement(_.a.Title,null,e("generics.settings"))),r.a.createElement(_.a.Body,null,r.a.createElement(C,null)),r.a.createElement(_.a.Footer,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return window.location.reload(),!1}},e("generics.reset")),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){t({type:"SWITCH_IN_GAME_SETTINGS"})}},e("generics.save"))))))},z=function(){var e=Object(i.b)(),t=w.range(1,90),a=w.chunkArray(t,15);return Object(n.useEffect)((function(){e({type:"ADD_INITIAL_NUMBERS",numbers:t})})),r.a.createElement("div",{className:"d-flex justify-content-center align-items-md-center"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row my-2"},r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-12 order-lg-1"},r.a.createElement(I,null)),r.a.createElement("div",{className:"col-xl-8 col-lg-8 col-12 order-lg-0"},r.a.createElement(A,{gameNumber:a}))),r.a.createElement(x,null),r.a.createElement(T,null)))},M=a(39),P=function(){return r.a.createElement("footer",{className:"footer mt-auto py-3 bg-light text-white"},r.a.createElement("div",{className:"container justify-content-center"},r.a.createElement("span",{className:"text-muted"},"Made with"," ",r.a.createElement("a",{href:"https://it.reactjs.org/",target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none a"},r.a.createElement(M.b,null)),".\xa0\xa0\xa0For other projects check my ",r.a.createElement(M.a,null)," ",r.a.createElement("a",{href:"https://github.com/albertoforcato/",target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none"},"GitHub")," ","repo."),r.a.createElement("span",null)))},G=(a(85),function(){return r.a.createElement("div",{className:"container d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}),W=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(G,null)},r.a.createElement(o.a,{basename:"/react-tombola"},r.a.createElement("main",{role:"main",className:"flex-shrink-0"},r.a.createElement(z,null)),r.a.createElement(P,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(18),B=a(17),Z={prizes:[{id:1,name:"ambo",checked:!0},{id:2,name:"terno",checked:!0},{id:3,name:"quaterna",checked:!0},{id:4,name:"cinquina",checked:!0},{id:5,name:"tombola",checked:!0},{id:6,name:"tombolino",checked:!0}],automaticDraw:!1,showInGameSettings:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PRIZE_ACTIVATION":var a=e.prizes.map((function(e){return e.id===t.id&&(e.checked=!e.checked),e}));return Object(B.a)({},e,{prizes:a});case"CHANGE_AUTOMATIC_DRAW_STATE":return Object(B.a)({},e,{automaticDraw:!e.automaticDraw});case"SWITCH_IN_GAME_SETTINGS":return Object(B.a)({},e,{showInGameSettings:!e.showInGameSettings});default:return Object(B.a)({},e)}},F={availableNumbers:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INITIAL_NUMBERS":return Object(B.a)({},e,{availableNumbers:t.numbers});case"REMOVE_DREW_NUMBERS":var a=null;return Object(B.a)({},e,{availableNumbers:a});default:return Object(B.a)({},e)}},V=[],q=function(e,t){switch(t.type){case"ADD_DREW_NUMBER":return t.drewNumber;default:return e}},J=function(e,t){switch(t.type){case"ADD_ASSIGNED_PRIZE":return console.log("ASSIGNED_PRIZE",t.assignedPrize),t.assignedPrize;default:return e}},K=m()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DREW_NUMBER":return[].concat(Object(h.a)(e),[q(void 0,t)]);case"ADD_ASSIGNED_PRIZE":return[].concat(Object(h.a)(e),[J(void 0,t)]);default:return e}})),X=Object(H.combineReducers)({undoRedoManagement:K,managePrizesSettings:U,manageDrewNumbers:L}),$=a(56),Q=a(57),Y=(a(87),a(38)),ee=a(58),te=a(59);Y.a.use(te.a).use(ee.a).use(E.a).init({fallbackLng:"it",debug:!1,interpolation:{escapeValue:!1},ns:["translation"],defaultNS:"translation",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}});Y.a;var ae=Object(Q.composeWithDevTools)({}),ne=Object(H.createStore)(X,ae(Object(H.applyMiddleware)($.a)));l.a.render(r.a.createElement(i.a,{store:ne},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.a44645a5.chunk.js.map